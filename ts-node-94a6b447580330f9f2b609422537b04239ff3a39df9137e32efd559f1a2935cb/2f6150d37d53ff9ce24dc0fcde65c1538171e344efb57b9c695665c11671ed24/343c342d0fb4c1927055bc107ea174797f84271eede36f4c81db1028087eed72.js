"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const functions = require("./functions/account");
const utils_1 = require("./misc/utils");
const auth_1 = require("./misc/auth");
const router = express_1.Router();
// Reminder: remember to use wrapTryCatch to enable express error handling on promise rejection errors!
router.use('/', auth_1.verifySessionToken);
router.post('/verify', utils_1.wrapTryCatch(functions.verify));
router.post('/info', utils_1.wrapTryCatch(functions.info));
router.post('/refresh', utils_1.wrapTryCatch(functions.refresh));
router.use('/', utils_1.wrapTryCatch(utils_1.checkReview));
router.post('/edit', utils_1.wrapTryCatch(functions.edit));
exports.default = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL21udC9jL1VzZXJzL0plZmYvUGVlci1HZW5pdXMvc2VydmVyL3JvdXRlci9hY2NvdW50LnRzIiwic291cmNlcyI6WyIvbW50L2MvVXNlcnMvSmVmZi9QZWVyLUdlbml1cy9zZXJ2ZXIvcm91dGVyL2FjY291bnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxxQ0FBaUM7QUFFakMsaURBQWlEO0FBQ2pELHdDQUF5RDtBQUN6RCxzQ0FBaUQ7QUFFakQsTUFBTSxNQUFNLEdBQUcsZ0JBQU0sRUFBRSxDQUFDO0FBQ3hCLHVHQUF1RztBQUV2RyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSx5QkFBa0IsQ0FBQyxDQUFDO0FBQ3BDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLG9CQUFZLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7QUFDdkQsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsb0JBQVksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUNuRCxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxvQkFBWSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0FBRXpELE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLG9CQUFZLENBQUMsbUJBQVcsQ0FBQyxDQUFDLENBQUM7QUFDM0MsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsb0JBQVksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUVuRCxrQkFBZSxNQUFNLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdleHByZXNzJztcblxuaW1wb3J0ICogYXMgZnVuY3Rpb25zIGZyb20gJy4vZnVuY3Rpb25zL2FjY291bnQnO1xuaW1wb3J0IHsgY2hlY2tSZXZpZXcsIHdyYXBUcnlDYXRjaCB9IGZyb20gJy4vbWlzYy91dGlscyc7XG5pbXBvcnQgeyB2ZXJpZnlTZXNzaW9uVG9rZW4gfSBmcm9tICcuL21pc2MvYXV0aCc7XG5cbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xuLy8gUmVtaW5kZXI6IHJlbWVtYmVyIHRvIHVzZSB3cmFwVHJ5Q2F0Y2ggdG8gZW5hYmxlIGV4cHJlc3MgZXJyb3IgaGFuZGxpbmcgb24gcHJvbWlzZSByZWplY3Rpb24gZXJyb3JzIVxuXG5yb3V0ZXIudXNlKCcvJywgdmVyaWZ5U2Vzc2lvblRva2VuKTtcbnJvdXRlci5wb3N0KCcvdmVyaWZ5Jywgd3JhcFRyeUNhdGNoKGZ1bmN0aW9ucy52ZXJpZnkpKTtcbnJvdXRlci5wb3N0KCcvaW5mbycsIHdyYXBUcnlDYXRjaChmdW5jdGlvbnMuaW5mbykpO1xucm91dGVyLnBvc3QoJy9yZWZyZXNoJywgd3JhcFRyeUNhdGNoKGZ1bmN0aW9ucy5yZWZyZXNoKSk7XG5cbnJvdXRlci51c2UoJy8nLCB3cmFwVHJ5Q2F0Y2goY2hlY2tSZXZpZXcpKTtcbnJvdXRlci5wb3N0KCcvZWRpdCcsIHdyYXBUcnlDYXRjaChmdW5jdGlvbnMuZWRpdCkpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iXX0=